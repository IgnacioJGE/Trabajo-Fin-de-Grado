version: "3.1"
#Reglas fijas
rules:

- rule: Decir adios, hay que ser educado
  steps:
  - intent: adios
  - action: utter_adios

- rule: Soy bot
  steps:
  - intent: bot_challenge
  - action: utter_iamabot

- rule: Responder con mensaje est√°ndar si la confianza es baja
  steps:
  - intent: nlu_fallback
  - action: utter_default

- rule: basura
  steps:
  - intent: basura
  - action: utter_default

- rule: imagen
  steps:
  - intent: imagen
  - action: utter_drop_imagen

- rule: Inciar formulario
  steps:
  - intent: crear_ticket
  - action: utter_iniciar_formulario
  - action: form_helpedesk
  - active_loop: form_helpedesk


- rule: Finalizar formulario
  condition:
  - active_loop: form_helpedesk
  steps:
  - action: form_helpedesk
  - active_loop: null
  - slot_was_set:
      - requested_slot: null
  - action: utter_preguntar_cambio_problema
  - intent: afirmar
  - action: utter_pedir_nuevo_problema
  - active_loop: form_rellenar_problema


- rule: Usuario NO quiere cambiar el problema
  condition:
  - slot_was_set:
      - requested_slot: null
  steps:
  - intent: negacion
  - action: utter_drop_info


- rule: Guardar nuevo problema usuario 
  condition:
  - active_loop: form_rellenar_problema
  steps:
  - slot_was_set:
    - requested_slot: null
  - action: action_guardar_mensaje
  - action: utter_drop_info







