version: '3.1'

intents:
- adios
- afirmar
- basura
- bot_challenge
- decir_delegacion
- decir_nombre
- imagen
- negar
- positivo
- saludar
- problema_raton
- problema_teclado
- ordenador_lento
- trackpad_desactivado
- problema_espacio_disco
- problema_correo_lleno
- problema_etiquetadoras
- crear_ticket
- no_ticket_helpdesk
- porblema_tipo_solicitud
- decir_importancia
- decir_departamento
- decir_email
- estado_ticket
- numero_ticket
- prueba


entities:
- nombre
- delegacion
- problema
- email
- departamento
- tipo_solicitud
- importancia
- siono 
- ticket

slots:
  nombre:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: nombre
      initial_value: Usuario

  delegacion:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: delegacion
  
  email:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: email

  problema:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: problema
  
  departamento:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: departamento
  
  tipo_solicitud:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: tipo_solicitud
  
  importancia:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: importancia
  
  ticket:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: ticket

  siono:
    type: categorical
    values:
      - "s√≠"
      - "no"
    mappings:
      - type: from_entity
        entity: siono
        conditions:
         - active_loop: form_helpedesk
           requested_slot: siono 



forms:
  form_helpedesk:
    required_slots:
      - nombre
      - problema
      - delegacion
      - departamento
      - email
      - tipo_solicitud
      - importancia
      - siono
    
actions:
 - cambio_problema
 - action_saludar_personalizado
 - action_crear_ticket_helpdesk
 - resetear_slots
 - action_pruebas
 - action_estado_ticket
 - validate_form_helpedesk
 - poner_siono_a_None
      
session_config:
  session_expiration_time: 30
  carry_over_slots_to_new_session: false