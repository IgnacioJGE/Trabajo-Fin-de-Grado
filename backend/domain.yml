version: '3.1'
intents:
- adios
- afirmar
- basura
- bot_challenge
- decir_delegacion
- decir_nombre
- imagen
- negar
- positivo
- saludar
- problema_raton
- problema_teclado
- ordenador_lento
- trackpad_desactivado
- problema_espacio_disco
- problema_correo_lleno
- problema_etiquetadoras
- crear_ticket
- no_ticket_helpdesk
- porblema_tipo_solicitud
- decir_importancia
- decir_departamento
- decir_email

entities:
- nombre
- delegacion
- problema
- email
- departamento
- tipo_solicitud
- importancia

slots:
  nombre:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: nombre
      initial_value: Usuario

  delegacion:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: delegacion
  
  email:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: email

  problema:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: problema
  
  departamento:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: departamento
  
  tipo_solicitud:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: tipo_solicitud
  
  importancia:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: importancia

  problema_usuario_cambio:
    type: text 
    influence_conversation: true
    mappings:
      - type: from_text
        conditions:
          - active_loop: form_rellenar_problema



forms:
  form_helpedesk:
    required_slots:
      - nombre
      - problema
      - delegacion
      - departamento
      - email
      - tipo_solicitud
      - importancia
    
  form_rellenar_problema: #supuestamente al hacer el forma as√≠ pilla cualquier texto que le metas 
    required_slots:
      - problema_usuario_cambio
actions:
 - action_crear_entrada_sharepoint
 - action_guardar_mensaje
 - action_saludar_personalizado
      
session_config:
  session_expiration_time: 30
  carry_over_slots_to_new_session: false